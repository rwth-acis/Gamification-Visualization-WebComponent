<link rel="import" href="bower_components/polymer/polymer-element.html">

<dom-module id="gamification-visualization" >
    <template>

        <style>
            /* shadow DOM styles */
            :host {
                font-family: sans-serif;
            }

            #gamificationNavigation {
                width: 140px;
            }

            #gamificationNavigation a {

                display: block;
                float: left;

                margin: 3px 10px;
                padding: 12px;
                width: 130px;

                border: 2px solid #102279;
                border-radius: 5px;

                text-align: center;
                font-size: 13pt;
                color: black;
            }

            #gamificationNavigation a:hover {

                text-decoration: none;
                font-weight: bold;
                background-color: #f0f0f0;
            }

            .gamificationTab {
                display: none;
            }

        </style>
        <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
        <link href="css/vis.css" rel="stylesheet">

        <!-- shadow DOM -->

        <nav id="gamificationNavigation">
            <a id="showTab1" on-click="showTab">Overview</a>
            <a id="showTab2" on-click="showTab">Badges</a>
            <a id="showTab3" on-click="showTab">Quests</a>
            <a id="showTab4" on-click="showTab">Leaderboard</a>
        </nav>
        <div id="gamificationTab1"  class="gamificationTab">
            <h1>Hallo</h1>
            <p>Backend-URL: [[backendurl]]</p>
        </div>
        <div id="gamificationTab2" class="gamificationTab">
            <h1>Tab 2</h1>
        </div>
        <div id="gamificationTab3" class="gamificationTab">
            <h1>Tab 3</h1>
        </div>
        <div id="gamificationTab4" class="gamificationTab">
            <h1>Tab 4</h1>
        </div>
    </template>
    <script>
        class GamificationVisualization extends Polymer.Element {
            static get is() {
                return "gamification-visualization";
            }
            static get properties() {
                return {
                    backendurl: {
                        type: String
                    }
                }
            }
            constructor() {
                super();
            }

            showTab(e, a) {
                //Hide all Tabs
                var i = 1;
                var curElem = this.shadowRoot.querySelector('#gamificationTab' + i);
                while (curElem != undefined)
                {
                    curElem.style.display = 'none';
                    this.shadowRoot.querySelector('#showTab' + i).style.fontWeight = "normal";
                    i++;
                    curElem = this.shadowRoot.querySelector('#gamificationTab' + i);
                }

                //Show selected tab
                var tabID = e.target.id.slice(-1);
                e.target.style.fontWeight = 'bold';
                this.shadowRoot.querySelector('#gamificationTab' + tabID).style.display = 'block';
            }

        }
        customElements.define(GamificationVisualization.is, GamificationVisualization);
    </script>
</dom-module>